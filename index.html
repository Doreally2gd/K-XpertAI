<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>K-XpertAI - Your AI Assistant</title>

<meta name="google-site-verification" content="-pOwu_HKfCUGRi02jFjMC8tlb0xJc3xpN3SXWRajfQs" />
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#4f46e5">

   <link rel="apple-touch-icon" href="/android-launchericon-192x192.png">
 <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    
</head>
<body data-theme="light">
    <div class="app-container">
        <header class="header">
            <div class="logo">
                <i class="fas fa-robot"></i>
                <span>K-XpertAI</span>
            </div>
            <div class="header-controls">
                <div class="api-status" id="apiStatus" style="display: none;">
                    <i class="fas fa-circle"></i>
                    <span id="apiProvider">Gemini</span>
                </div>
                <button class="header-btn" onclick="openSettings()">
                    <i class="fas fa-cog"></i>
                    <span>Settings</span>
                </button>
                <button class="header-btn" onclick="clearChat()">
                    <i class="fas fa-trash"></i>
                    <span>Clear</span>
                </button>
                <button class="header-btn" onclick="toggleTheme()">
                    <i class="fas fa-moon"></i>
                    <span>Theme</span>
                </button>
            </div>
        </header>

        <div class="chat-container">
            <div class="chat-messages" id="chatMessages">
                <div class="welcome-message">
                    <h2 class="welcome-title">Welcome to K-XpertAI</h2>
                    <p>I'm K-XpertAI, your intelligent assistant. I can help with conversations, code analysis, and image processing. Image generation is available with OpenAI API keys using DALL-E! Contact The webite company for a guide of the  free API  generaion <a href="https://wa.me/2349032852218?text=Hello%20kingxTech%20how%20can%20i%20generate%20my%20APIKey%3A">Here</a></p>
                </div>
            </div>

            <div class="input-container">
                <div class="input-wrapper">
                    <div class="input-actions">
                        <button class="input-btn" onclick="document.getElementById('fileInput').click()" title="Upload Image">
                            <i class="fas fa-image"></i>
                        </button>
                        <input type="file" id="fileInput" class="file-input" accept="image/*" onchange="handleFileSelect(event)">
                    </div>
                    <textarea 
                        class="message-input" 
                        id="messageInput" 
                        placeholder="Type your message here..."
                        onkeydown="handleKeyDown(event)"
                        oninput="autoResize(this)"
                    ></textarea>
                    <button class="send-btn" onclick="sendMessage()" id="sendBtn">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- API Setup Modal -->
    <div class="modal" id="apiModal">
        <div class="modal-content">
            <h2 class="modal-title">Choose Your AI Provider</h2>
            <p>Select your preferred AI provider to get started:</p>
            
            <div class="api-selection">
                <div class="api-option selected" onclick="selectProvider('gemini')">
                    <input type="radio" name="provider" value="gemini" checked>
                    <div>
                        <strong>Google Gemini</strong> (Default)
                        <div style="font-size: 12px; color: var(--text-secondary);">Free tier available, great for text and analysis</div>
                    </div>
                </div>
                <div class="api-option" onclick="selectProvider('openai')">
                    <input type="radio" name="provider" value="openai">
                    <div>
                        <strong>OpenAI GPT</strong>
                        <div style="font-size: 12px; color: var(--text-secondary);">Includes DALL-E image generation</div>
                    </div>
                </div>
            </div>

            <div id="apiKeySection">
                <input type="password" class="modal-input" id="apiKeyInput" placeholder="Enter your API key...">
                <p style="font-size: 12px; color: var(--text-secondary);">API key is required to proceed</p>
            </div>

            <div class="modal-buttons">
                <button class="modal-btn secondary" onclick="skipSetup()">Continue Without API</button>
                <button class="modal-btn primary" onclick="saveApiSetup()">Continue</button>
            </div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div class="modal" id="settingsModal" style="display: none;">
        <div class="modal-content">
            <h2 class="modal-title">Settings</h2>
            <div class="settings-panel">
                <div class="setting-group">
                    <label class="setting-label">AI Provider</label>
                    <div class="setting-description">Choose your preferred AI service</div>
                    <div class="api-selection">
                        <div class="api-option" onclick="selectSettingsProvider('gemini')" id="settingsGemini">
                            <input type="radio" name="settingsProvider" value="gemini">
                            <div>
                                <strong>Google Gemini</strong>
                                <div style="font-size: 12px; color: var(--text-secondary);">Text and image analysis only</div>
                            </div>
                        </div>
                        <div class="api-option" onclick="selectSettingsProvider('openai')" id="settingsOpenAI">
                            <input type="radio" name="settingsProvider" value="openai">
                            <div>
                                <strong>OpenAI GPT</strong>
                                <div style="font-size: 12px; color: var(--text-secondary);">Includes DALL-E image generation</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="setting-group">
                    <label class="setting-label">API Key</label>
                    <div class="setting-description">Enter your API key for the selected provider</div>
                    <input type="password" class="modal-input" id="settingsApiKey" placeholder="Enter API key...">
                </div>

                <div class="setting-group">
                    <label class="setting-label">Theme</label>
                    <div class="setting-description">Choose your preferred theme</div>
                    <div class="api-selection">
                        <div class="api-option" onclick="setThemeFromSettings('light')" id="lightTheme">
                            <input type="radio" name="theme" value="light">
                            <div><strong>Light Theme</strong></div>
                        </div>
                        <div class="api-option" onclick="setThemeFromSettings('dark')" id="darkTheme">
                            <input type="radio" name="theme" value="dark">
                            <div><strong>Dark Theme</strong></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="modal-buttons">
                <button class="modal-btn secondary" onclick="closeSettings()">Cancel</button>
                <button class="modal-btn primary" onclick="saveSettings()">Save Changes</button>
            </div>
        </div>
    </div>


<div id="imagePreviewModal" class="modal-overlay" onclick="closeImagePreview()">
    <span class="close-btn" onclick="closeImagePreview()">&times;</span>
    <img class="modal-content" id="fullImagePreview">
</div>


<script>
if ("serviceWorker" in navigator) {
  navigator.serviceWorker.register("/sw.js");
}
</script>

    <script src="kXjs1.js">
        // Your JavaScript code goes here - use the enhanced JavaScript from the previous artifact
    </script>
</body>
</html>